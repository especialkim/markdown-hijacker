# External Folder → Vault Folder 단방향 동기화 구현

## 📌 다음 단계 작업
- [ ] **초기 폴더 내용 동기화**: 플러그인 활성화 시 또는 매핑 추가 시 초기 폴더 내용을 동기화하는 기능 구현
  - [ ] 활성화 시 폴더 매핑 정보 기반으로 초기 스캔 로직 구현
  - [ ] 스캔된 파일 중 Markdown 파일만 필터링하는 로직 구현
  - [ ] 폴더 구조 동기화 로직 구현
  - [ ] 초기화 중 사용자 알림 기능 구현
- [ ] **내부 파일 변경 감지 이벤트 처리**: Vault 내부에서 파일 변경 감지 및 처리 로직 구현

## 초기 동기화 구현 (Initial Sync)
- [x] 폴더 매핑 활성화 및 초기 스캔 로직
  - [x] 플러그인 활성화 시 저장된 폴더 매핑 로드
  - [x] 외부 폴더 감시자(watcher) 초기화 및 시작
  - [x] 실행 시 모든 외부 폴더 감시 및 이벤트 구독 설정
- [x] 매핑 수동 동기화 트리거
  - [x] UI에 개별 매핑 동기화 버튼 추가
  - [x] 전체 매핑 동기화 버튼 추가
  - [ ] 동기화 진행 상태 표시 (프로그레스 바)
- [ ] 동기화 작업 큐
  - [ ] 작업 큐 구현으로 동시 동기화 작업 관리
  - [ ] 우선순위 기반 작업 처리
  - [ ] 동기화 취소 및 일시정지 기능

## 이벤트 기반 동기화 구현 (Event-based Sync)
- [x] 외부 파일 생성 이벤트 처리
  - [x] 외부 폴더에서 파일 생성 감지
  - [x] Vault 내 해당 경로로 파일 생성
  - [x] frontmatter에 원본 경로 정보 추가 (originPath)
  - [x] 생성 이벤트 사용자 알림
- [x] 외부 파일 수정 이벤트 처리
  - [x] 외부 폴더에서 파일 수정 감지
  - [x] Vault 내 파일 내용 업데이트
  - [x] frontmatter 유지 및 필요 시 업데이트
  - [x] 수정 이벤트 사용자 알림
- [x] 외부 파일 삭제 이벤트 처리
  - [x] 외부 폴더에서 파일 삭제 감지
  - [x] frontmatter의 originPath 정보로 해당 파일 찾기
  - [x] Vault 내 파일 삭제 처리
  - [x] 삭제 이벤트 사용자 알림
- [x] 외부 파일 이동/이름변경 이벤트 처리
  - [x] 이동/이름변경 감지
  - [x] Vault 내 파일 경로 업데이트
  - [x] frontmatter의 originPath 정보 업데이트
  - [x] 이동/이름변경 이벤트 사용자 알림
- [ ] 내부 파일 생성 감지 및 처리
  - [ ] Vault 내 파일 생성 감지
  - [ ] frontmatter 분석하여 동기화 여부 결정
  - [ ] 내부 파일 생성 사용자 알림
- [ ] 내부 파일 수정 감지 및 처리
  - [ ] Vault 내 파일 수정 감지
  - [ ] frontmatter의 originPath 정보 확인
  - [ ] 내부 파일 수정 사용자 알림

## Vault API 연동
- [x] 경로 변환 유틸리티
  - [x] 외부 경로 → Vault 경로 변환 함수
  - [x] Vault 경로 → 외부 경로 변환 함수
  - [x] 상대 경로 정규화 함수
- [x] 파일 조작 함수
  - [x] Vault 파일 생성 함수
  - [x] Vault 파일 읽기 함수
  - [x] Vault 파일 수정 함수
  - [x] Vault 파일 삭제 함수
  - [x] Vault 폴더 생성 함수
- [x] frontmatter 처리
  - [x] frontmatter 존재 여부 확인 함수
  - [x] originPath 추출 함수
  - [x] originPath 추가/업데이트 함수
  - [x] frontmatter 유지하며 내용 업데이트 함수

## 설정 및 필터링
- [x] 기본 설정 구조
  - [x] 플러그인 활성화 설정
  - [x] 폴더 매핑 관리 인터페이스
  - [x] 서브폴더 포함 옵션
- [ ] 설정 UI 개선
  - [ ] 폴더 매핑 추가/삭제 UI 개선
  - [ ] 개별 매핑 활성화/비활성화 토글
  - [ ] 매핑 그룹화 및 정렬 기능
- [ ] 고급 설정 옵션
  - [ ] 동기화 간격 설정
  - [ ] 알림 설정 (소리, 시각적 알림)
  - [ ] 로깅 레벨 설정
  - [ ] 충돌 해결 전략 설정

## UI 및 사용자 피드백
- [x] 기본 알림 구현
  - [x] 파일 생성/수정/삭제 알림
  - [x] 오류 알림
- [ ] 상태 표시 개선
  - [ ] 상태 바에 동기화 상태 표시
  - [ ] 동기화 진행 중 아이콘 애니메이션
  - [ ] 마지막 동기화 시간 표시
- [ ] 로그 및 이벤트 기록
  - [ ] 상세 로그 뷰어 구현
  - [ ] 동기화 이벤트 기록 저장
  - [ ] 로그 필터링 및 검색 기능